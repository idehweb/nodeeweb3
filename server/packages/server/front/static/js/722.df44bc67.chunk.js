"use strict";(self.webpackChunkgomrok24=self.webpackChunkgomrok24||[]).push([[722],{69722:(e,s,r)=>{r.r(s),r.d(s,{default:()=>o});var t=r(47313),a=r(8869),l=r(23148),d=r(71640),i=r(75590),c=r(61708),n=r(58467),h=r(46417);class m extends t.Component{constructor(e){super(e);const{match:s}=e;this.state={_id:s.params._id,sum:0,redirect_url:"/login",lan:l.ZP.getState().store.lan||"fa",token:l.ZP.getState().store.user.token||"",user:l.ZP.getState().store.user||{},redirect:null,update:!1,modals:!1,card:[],deliveryDay:{},orderNumber:"",status:"",paymentStatus:"",billingAddress:{},customer_data:{}}}getTheOrder(){let{_id:e}=this.state;(0,c.co)(e).then((e=>{e.success&&this.setState({card:e.order.card,deliveryDay:e.order.deliveryDay,billingAddress:e.order.billingAddress,orderNumber:e.order.orderNumber,customer_data:e.order.customer_data,paymentStatus:e.order.paymentStatus,status:e.order.status,sum:e.order.sum})}))}componentDidMount(){const{token:e}=this.state;this.props&&this.props.match&&this.props.match.params&&this.props.match.params._id&&(e?this.getTheOrder():(this.cameFromProduct(this.props.match.params._id),this.setState({redirect:"/login"})))}componentDidUpdate(){this.state.update&&this.setState({redirect:null,update:!1})}editThisAdd(){}CancelOrder(){}PayForOrder(){let{sum:e,_id:s,customer_data:r}=this.state;(0,c.b7)(s,{sum:e,customer:r._id}).then((s=>{window.createPaymentRequest({service_id:18875,merchant_id:13468,amount:e,transaction_param:"rqBEoqFwJt2L",merchant_user_id:21132},(function(e){e&&e.status}))}))}cameFromProduct(e){}render(){const{t:e,_id:s}=this.props;let{card:r,orderNumber:t,redirect:l,redirect_url:i,paymentStatus:c,status:m,deliveryDay:o,sum:x,lan:j,modals:u,token:p,billingAddress:N,customer_data:g,hoverD:b}=this.state;return x=0,p||(l=!0),l?(0,h.jsx)(n.Fg,{to:i,push:!1,exact:!0}):(0,h.jsxs)(a.W2,{fluid:!0,className:"main-content-container px-4 maxWidth1200",children:[(0,h.jsx)(a.X2,{noGutters:!0,className:"page-header py-4",children:(0,h.jsx)(d.Z,{title:e("Order #")+t+" - "+e(c)+" - "+e(m),subtitle:e("order details"),md:"12",className:"ml-sm-auto mr-sm-auto"})}),(0,h.jsxs)(a.X2,{children:[(0,h.jsxs)(a.JX,{lg:"7",children:[(0,h.jsxs)(a.Zb,{className:"mb-3",children:[(0,h.jsx)(a.Ol,{children:(0,h.jsx)("h1",{className:"kjhghjk",children:(0,h.jsx)("div",{className:"d-inline-block item-icon-wrapper ytrerty",dangerouslySetInnerHTML:{__html:e("Contact number")}})})}),(0,h.jsx)(a.eW,{children:(0,h.jsx)(a.JX,{lg:"12",children:(0,h.jsx)(a.X2,{children:g&&g.phoneNumber})})})]}),(0,h.jsxs)(a.Zb,{className:"mb-3",children:[(0,h.jsx)(a.Ol,{children:(0,h.jsx)("h1",{className:"kjhghjk",children:(0,h.jsx)("div",{className:"d-inline-block item-icon-wrapper ytrerty",dangerouslySetInnerHTML:{__html:e("Address")}})})}),(0,h.jsx)(a.eW,{children:(0,h.jsx)(a.JX,{lg:"12",children:(0,h.jsx)(a.X2,{children:N&&(0,h.jsx)(a.JX,{md:4,lg:4,sm:4,children:(0,h.jsxs)("div",{className:"theadds posrel hover",children:[(0,h.jsx)("div",{className:"ttl",children:N.Title}),(0,h.jsxs)("div",{className:"desc",children:[N.Country,(0,h.jsx)("br",{}),N.State,(0,h.jsx)("br",{}),N.City,(0,h.jsx)("br",{}),N.StreetAddress,(0,h.jsx)("br",{}),N.Zip]}),(0,h.jsx)("div",{className:" d-flex posab bilar",children:(0,h.jsx)("div",{className:"flex-1 pr-2 textAlignLeft theb",children:(0,h.jsx)("span",{className:"material-icons circle-button green",onClick:()=>{this.editThisAdd(N)},children:"edit"})})})]})})})})})]}),(0,h.jsxs)(a.Zb,{className:"mb-3",children:[(0,h.jsx)(a.Ol,{children:(0,h.jsx)("h1",{className:"kjhghjk",children:(0,h.jsx)("div",{className:"d-inline-block item-icon-wrapper ytrerty",dangerouslySetInnerHTML:{__html:e("Delivery Schedule")}})})}),(0,h.jsx)(a.eW,{children:(0,h.jsx)(a.JX,{lg:"12",children:(0,h.jsx)(a.X2,{children:o&&(0,h.jsx)(a.JX,{className:"mb-4",md:4,lg:4,sm:4,children:(0,h.jsxs)("div",{className:"theadds hover",children:[(0,h.jsx)("div",{className:"ttl",children:o.title}),(0,h.jsx)("div",{className:"desc",children:o.description})]})})})})})]})]}),(0,h.jsx)(a.JX,{lg:"5",children:(0,h.jsxs)(a.Zb,{className:"mb-3",children:[(0,h.jsx)(a.Ol,{children:(0,h.jsx)("h1",{className:"kjhghjk",children:(0,h.jsx)("div",{className:"d-inline-block item-icon-wrapper ytrerty",dangerouslySetInnerHTML:{__html:e("Your order")}})})}),(0,h.jsxs)(a.eW,{children:[(0,h.jsxs)(a.NX,{flush:!0,className:"card-add checkout",children:[r&&r.length>0&&r.map(((s,r)=>(s.salePrice?x+=s.salePrice*s.count:s.price&&!s.salePrice&&(x+=s.price*s.count),(0,h.jsxs)(a.WI,{className:"d-flex px-3 border-0 wedkuhg",children:[(0,h.jsx)("div",{className:"flex-1 txc",children:(0,h.jsx)("div",{className:"bge",children:s.count})}),(0,h.jsx)("div",{className:"flex-1 txc",children:"x"}),(0,h.jsx)("div",{className:"flex-8",children:(0,h.jsx)("div",{className:"ttl",children:s.title[j]})}),(0,h.jsxs)("div",{className:"flex-2",children:[s.price&&!s.salePrice&&(0,h.jsx)("div",{className:"prc",children:s.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+e(" UZS")}),s.price&&s.salePrice&&(0,h.jsxs)("div",{className:"prc",children:[s.salePrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+e(" UZS"),(0,h.jsx)("del",{className:"ml-2",children:s.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+e(" UZS")})]})]})]},r)))),(0,h.jsx)("hr",{}),(0,h.jsx)(a.WI,{className:"d-flex px-3 border-0 ",children:[(0,h.jsx)("div",{className:"flex-1",children:(0,h.jsx)("div",{className:"ttl",children:e("sum")+": "})}),(0,h.jsx)("div",{className:"flex-1 textAlignRight",children:x&&(0,h.jsx)("div",{className:"ttl ",children:x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+e(" UZS")})})]})]}),(0,h.jsx)(a.JX,{className:"empty height50",sm:12,lg:12})]}),(0,h.jsxs)(a.iR,{children:["notpaid"==c&&(0,h.jsx)(a.zx,{className:"",block:!0,onClick:()=>{this.PayForOrder()},children:e("Pay")}),(0,h.jsx)(a.zx,{className:"",block:!0,onClick:()=>{this.CancelOrder()},children:e("Cancel Order")})]})]})})]})]})}}const o=(0,i.Zh)()(m)}}]);